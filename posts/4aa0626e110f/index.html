<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Activity - Android校招面试整理2022 | 洛语 の Blog</title><meta name="keywords" content="Activity,2022校招面试整理"><meta name="author" content="LuoYu-Ying"><meta name="copyright" content="LuoYu-Ying"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Activity的启动流程  答案参考自：  面试：Activity的启动流程简述_沙漠一只雕得儿得儿的博客-CSDN博客_activity启动流程面试 Android 系统启动 - SystemServer 进程 - 简书 (jianshu.com)   大致为以下过程：  Launcher 通过 startActivity 方法调用 AMS。 AMS 向 Zygote 进程发送创建应用进程的">
<meta property="og:type" content="article">
<meta property="og:title" content="Activity - Android校招面试整理2022">
<meta property="og:url" content="https://luoyu-ying.github.io/posts/4aa0626e110f/index.html">
<meta property="og:site_name" content="洛语 の Blog">
<meta property="og:description" content="Activity的启动流程  答案参考自：  面试：Activity的启动流程简述_沙漠一只雕得儿得儿的博客-CSDN博客_activity启动流程面试 Android 系统启动 - SystemServer 进程 - 简书 (jianshu.com)   大致为以下过程：  Launcher 通过 startActivity 方法调用 AMS。 AMS 向 Zygote 进程发送创建应用进程的">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://lly-blog-img.oss-cn-hangzhou.aliyuncs.com/images/0.jpg">
<meta property="article:published_time" content="2022-05-21T08:40:02.000Z">
<meta property="article:modified_time" content="2022-06-17T11:11:33.419Z">
<meta property="article:author" content="LuoYu-Ying">
<meta property="article:tag" content="Activity">
<meta property="article:tag" content="2022校招面试整理">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://lly-blog-img.oss-cn-hangzhou.aliyuncs.com/images/0.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://luoyu-ying.github.io/posts/4aa0626e110f/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: {"limitDay":180,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Activity - Android校招面试整理2022',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-06-17 19:11:33'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/article-font.css"><link rel="stylesheet" href="/css/post-transparent.css"><style>#article-container.post-content h1:before, h2:before, h3:before, h4:before, h5:before, h6:before { -webkit-animation: avatar_turn_around 1s linear infinite; -moz-animation: avatar_turn_around 1s linear infinite; -o-animation: avatar_turn_around 1s linear infinite; -ms-animation: avatar_turn_around 1s linear infinite; animation: avatar_turn_around 1s linear infinite; }</style><link rel="stylesheet" href="/css/white-code-box.css"><link rel="stylesheet" href="/css/background.css"><meta name="generator" content="Hexo 6.1.0"><link rel="alternate" href="/atom.xml" title="洛语 の Blog" type="application/atom+xml">
</head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://lly-blog-img.oss-cn-hangzhou.aliyuncs.com/images/avatar-莉莉艾.png" onerror="onerror=null;src='img/default_avatar.jpg'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">66</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">39</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">17</div></a></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 日常</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/gallery/"><i class="fa-fw fas fa-images"></i><span> 图库</span></a></li><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友人帐</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/toolbox/"><i class="fa-fw fas fa-box"></i><span> 工具箱</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://lly-blog-img.oss-cn-hangzhou.aliyuncs.com/images/0.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">洛语 の Blog</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 日常</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/gallery/"><i class="fa-fw fas fa-images"></i><span> 图库</span></a></li><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友人帐</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/toolbox/"><i class="fa-fw fas fa-box"></i><span> 工具箱</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Activity - Android校招面试整理2022</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-05-21T08:40:02.000Z" title="发表于 2022-05-21 16:40:02">2022-05-21</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-06-17T11:11:33.419Z" title="更新于 2022-06-17 19:11:33">2022-06-17</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Android/">Android</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/2022%E6%A0%A1%E6%8B%9B%E9%9D%A2%E8%AF%95%E6%95%B4%E7%90%86/">2022校招面试整理</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Activity - Android校招面试整理2022"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="activity的启动流程"><a class="markdownIt-Anchor" href="#activity的启动流程"></a> <code>Activity</code>的启动流程</h1>
<blockquote>
<p>答案参考自：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/cpcpcp123/article/details/122055099">面试：Activity的启动流程简述_沙漠一只雕得儿得儿的博客-CSDN博客_activity启动流程面试</a></li>
<li><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/6c55c169ba54">Android 系统启动 - SystemServer 进程 - 简书 (jianshu.com)</a></li>
</ul>
</blockquote>
<p>大致为以下过程：</p>
<ol>
<li><code>Launcher</code> 通过 <code>startActivity</code> 方法调用 <code>AMS</code>。</li>
<li><code>AMS</code> 向 <code>Zygote</code> 进程发送创建应用进程的请求。</li>
<li><code>Zygote</code> 进程接受请求并在 <code>main</code> 方法中孵化应用进程。</li>
<li>应用进程通过<code>SystemServer#main</code>启动<code>ActivityThread</code>。</li>
<li><code>Activity</code>的入口是<code>ActivityThread</code>的<code>main</code>函数，在<code>main</code>函数中创建一个新的<code>ActivityThread</code>对象，开启消息循环(UI线程)后创建新的<code>Activity</code>。</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// SystemServer#main</span></span><br><span class="line">    </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">SystemServer</span>().run();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">    ···</span><br><span class="line">    <span class="comment">// Ensure binder calls into the system always run at foreground priority.</span></span><br><span class="line">    <span class="comment">// 确保当前进程的 binder 调用总是运行在前台优先级</span></span><br><span class="line">    BinderInternal.disableBackgroundScheduling(<span class="literal">true</span>);</span><br><span class="line">    ···</span><br><span class="line">    <span class="comment">// 创建主线程 Looper</span></span><br><span class="line">    Looper.prepareMainLooper();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Initialize native services.</span></span><br><span class="line">    <span class="comment">// 加载android_servers.so库，该库包含的源码在frameworks/base/services/目录下</span></span><br><span class="line">    System.loadLibrary(<span class="string">&quot;android_servers&quot;</span>);</span><br><span class="line">    ···</span><br><span class="line">    <span class="comment">// Initialize the system context.</span></span><br><span class="line">    <span class="comment">// 初始化系统上下文</span></span><br><span class="line">    createSystemContext();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Create the system service manager.</span></span><br><span class="line">    <span class="comment">//创建系统服务管理</span></span><br><span class="line">    mSystemServiceManager = <span class="keyword">new</span> <span class="title class_">SystemServiceManager</span>(mSystemContext);</span><br><span class="line">    <span class="comment">// 将mSystemServiceManager添加到本地服务的成员sLocalServiceObjects</span></span><br><span class="line">    LocalServices.addService(SystemServiceManager.class, mSystemServiceManager);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Start services.</span></span><br><span class="line">    <span class="comment">//  启动各种系统服务</span></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        startBootstrapServices(); <span class="comment">// 启动引导服务</span></span><br><span class="line">        startCoreServices();      <span class="comment">// 启动核心服务</span></span><br><span class="line">        startOtherServices();     <span class="comment">// 启动其他服务</span></span><br><span class="line">    &#125; <span class="keyword">catch</span> (Throwable ex) &#123;</span><br><span class="line">        ···</span><br><span class="line">    &#125;</span><br><span class="line">    ···</span><br><span class="line">    <span class="comment">// Loop forever.</span></span><br><span class="line">    <span class="comment">// 启动 Looper 循环</span></span><br><span class="line">    Looper.loop();</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;Main thread loop unexpectedly exited&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="onsaveinstancestate和onrestoreinstancestate的调用时机"><a class="markdownIt-Anchor" href="#onsaveinstancestate和onrestoreinstancestate的调用时机"></a> <code>onSaveInstanceState</code>和<code>onRestoreInstanceState</code>的调用时机</h1>
<blockquote>
<p>答案参考自：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/cpcpcp123/article/details/113396301">Android onSaveInstanceState和onRestoreInstanceState调用时机、及大小限制_沙漠一只雕得儿得儿的博客-CSDN博客_onsaveinstancestate</a></li>
</ul>
</blockquote>
<p><strong><font size = "5">onSaveInstanceState(Bundle outState)</font></strong></p>
<p>当 Activity 在不正常销毁的情况下，就会调用 onSaveInstanceState 方法，并将 Activity 中需要保存的数据（比如 View 状态 或者我们自己的数据）保存到这个方法的参数 Bundle 中。</p>
<p><strong>onSaveInstanceState(Bundle outState)会在以下情况被调用</strong>：</p>
<ol>
<li>当用户按下HOME键时。</li>
<li>从最近应用中选择运行其他的程序时。</li>
<li>按下电源按键（关闭屏幕显示）时。</li>
<li>从当前activity启动一个新的activity时。</li>
<li>屏幕方向切换时(无论竖屏切横屏还是横屏切竖屏都会调用)。</li>
</ol>
<p><strong>Activity的onSaveInstanceState回调时机，取决于app的targetSdkVersion</strong>：</p>
<ul>
<li>
<p>targetSdkVersion低于11的app，onSaveInstanceState方法会在Activity.onPause之前回调；</p>
</li>
<li>
<p>targetSdkVersion低于28的app，则会在onStop之前回调；</p>
</li>
<li>
<p><strong>28之后，onSaveInstanceState在onStop回调之后才回调。</strong></p>
</li>
</ul>
<p><strong><font size = "5">onRestoreInstanceState(Bundle savedInstanceState)</font></strong></p>
<p>onRestoreInstanceState(Bundle savedInstanceState)只有在activity确实是被系统回收，重新创建activity的情况下才会被调用。</p>
<p><strong>onRestoreInstanceState(Bundle outState)会在以下情况被调用</strong>：</p>
<ol>
<li>屏幕方向切换时（无论竖屏切横屏还是横屏切竖屏都会调用）</li>
<li>由于内存紧张导致后台运行的程序被kill掉时（这种不太好模拟）</li>
</ol>
<p><strong>onRestoreInstanceState(Bundle outState)</strong> 的回调时机：</p>
<p>回调发生在<code>onStart</code>回调之后。</p>
<h1 id="oncreate和onrestoreinstance方法中恢复数据时的区别"><a class="markdownIt-Anchor" href="#oncreate和onrestoreinstance方法中恢复数据时的区别"></a> <code>onCreate</code>和<code>onRestoreInstance</code>方法中恢复数据时的区别</h1>
<p>因为<code>onSaveInstanceState</code> 不一定会被调用，所以<code>onCreate</code>里的<code>Bundle</code>参数可能为空，如果使用<code>onCreate</code>来恢复数据，一定要做非空判断。</p>
<p>而<code>onRestoreInstanceState</code>的<code>Bundle</code>参数一定不会是空值，因为它只有在上次<code>activity</code>被回收了才会调用。</p>
<h1 id="activity的数据是怎么保存的进程被kill后保存的数据怎么恢复的"><a class="markdownIt-Anchor" href="#activity的数据是怎么保存的进程被kill后保存的数据怎么恢复的"></a> <code>Activity</code>的数据是怎么保存的,进程被<code>Kill</code>后,保存的数据怎么恢复的？</h1>
<blockquote>
<p>答案参考自：</p>
<ul>
<li>《Android 开发艺术探索》</li>
</ul>
</blockquote>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://lly-blog-img.oss-cn-hangzhou.aliyuncs.com/images/20220521185305.png" style="zoom:67%;" />
<p>通过<code>onSaveInstanceState</code>方法和<code>onRestoreInstanceState</code>方法进行数据的保存和恢复。</p>
<p>在 <code>onSaveInstanceState</code>和 <code>onRestoreInstanceState</code>方法中，系统自动为我们做了一定的恢复工作。当 <code>Activity</code> 在异常情况下需要重新创建时，系统会默认为我们保存当前<code>Activity</code> 的视图结构，并且在<code>Activity</code>重启后为我们恢复这些数据，比如文本框中用户输入的数据、<code>ListView</code>滚动的位置等。</p>
<h1 id="activity的启动模式和使用场景"><a class="markdownIt-Anchor" href="#activity的启动模式和使用场景"></a> <code>Activity</code>的启动模式和使用场景</h1>
<blockquote>
<p>答案参考自：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/sinat_14849739/article/details/78072401">Android中Activity的启动模式（LaunchMode）和使用场景_Shawpoo的博客-CSDN博客_launchmode</a></li>
</ul>
</blockquote>
<p>Activity的启动模式有四种：<strong><code>standard</code>、<code>singleTop</code>、<code>singleTask</code>和<code>singleInstance</code></strong>。</p>
<p><strong><font size="5">standard：标准模式</font></strong></p>
<p>这种启动模式为标准模式，也是默认模式。每当我们启动一个Activity，系统就会相应的创建一个实例，不管这个实例是否已经存在。这种模式，一个栈中可以有多个实例，每个实例也都有自己的任务栈。而且是谁启动了此Activity，那么这个Activity就运行在启动它的Activity所在的栈中。</p>
<p><strong>分析总结</strong></p>
<p><strong>标准模式下，只要启动一次Activity，系统就会在当前任务栈新建一个实例。</strong></p>
<p><strong>使用场景</strong></p>
<p>正常的去打开一个新的页面，这种启动模式使用最多，最普通 。</p>
<p><strong><font size="5">singleTop：栈顶复用模式</font></strong></p>
<p>这种启动模式下，如果要启动的Activity已经处于栈的顶部，那么此时系统不会创建新的实例，而是直接打开此页面，同时它的onNewIntent()方法会被执行，我们可以通过Intent进行传值，而且它的onCreate()，onStart()方法不会被调用，因为它并没有发生任何变化。</p>
<p><strong>分析总结</strong></p>
<ol>
<li>当前栈中已有该Activity的实例并且该实例位于栈顶时，不会创建实例，而是复用栈顶的实例，并且会将Intent对象传入，回调onNewIntent()方法；</li>
<li>当前栈中已有该Activity的实例但是该实例不在栈顶时，其行为和standard启动模式一样，依然会创建一个新的实例；</li>
<li>当前栈中不存在该Activity的实例时，其行为同standard启动模式。</li>
</ol>
<p><strong>使用场景</strong></p>
<p>这种模式应用场景的话，假如一个新闻客户端，在通知栏收到了3条推送，点击每一条推送会打开新闻的详情页，如果为默认的启动模式的话，点击一次打开一个页面，会打开三个详情页，这肯定是不合理的。如果启动模式设置为singleTop，当点击第一条推送后，新闻详情页已经处于栈顶，当我们第二条和第三条推送的时候，只需要通过Intent传入相应的内容即可，并不会重新打开新的页面，这样就可以避免重复打开页面了。</p>
<p><strong><font size="5">singleTask：栈内复用模式</font></strong></p>
<p>在这个模式下，如果栈中存在这个Activity的实例就会复用这个Activity，不管它是否位于栈顶，复用时，会将它上面的Activity全部出栈，因为singleTask本身自带clearTop这种功能。并且会回调该实例的onNewIntent()方法。其实这个过程还存在一个任务栈的匹配，因为这个模式启动时，会在自己需要的任务栈中寻找实例，这个任务栈就是通过taskAffinity属性指定。如果这个任务栈不存在，则会创建这个任务栈。不设置taskAffinity属性的话，默认为应用的包名。</p>
<p><strong>分析总结</strong></p>
<p>在复用的时候，首先会根据taskAffinity去找对应的任务栈：</p>
<ol>
<li>如果不存在指定的任务栈，系统会新建对应的任务栈，并新建Activity实例压入栈中。</li>
<li>如果存在指定的任务栈，则会查找该任务栈中是否存在该Activity实例
<ol>
<li>如果不存在该实例，则会在该任务栈中新建Activity实例。</li>
<li>如果存在该实例，则会直接引用，并且回调该实例的onNewIntent()方法。并且任务栈中该实例之上的Activity会被全部销毁。</li>
</ol>
</li>
</ol>
<p><strong>使用场景</strong></p>
<p>SingleTask这种启动模式最常使用的就是一个APP的首页，因为一般为一个APP的第一个页面，且长时间保留在栈中，所以最适合设置singleTask启动模式来复用。</p>
<p><strong><font size="5">singleInstance：单实例模式</font></strong></p>
<p>单实例模式，顾名思义，只有一个实例。该模式具备singleTask模式的所有特性外，与它的区别就是，这种模式下的<strong>Activity会单独占用一个Task栈，具有全局唯一性</strong>，即整个系统中就这么一个实例，由于栈内复用的特性，后续的请求均不会创建新的Activity实例，除非这个特殊的任务栈被销毁了。以singleInstance模式启动的Activity在整个系统中是单例的，如果在启动这样的Activiyt时，已经存在了一个实例，那么会把它所在的任务调度到前台，重用这个实例。</p>
<p><strong>分析总结</strong></p>
<p>启动该模式Activity的时候，会查找系统中是否存在：</p>
<ol>
<li>不存在，首先会新建一个任务栈，其次创建该Activity实例。</li>
<li>存在，则会直接引用该实例，并且回调onNewIntent()方法。</li>
<li>特殊情况：该任务栈或该实例被销毁，系统会重新创建。</li>
</ol>
<p><strong>使用场景</strong></p>
<p>很常见的是，电话拨号盘页面，通过自己的应用或者其他应用打开拨打电话页面 ，只要系统的栈中存在该实例，那么就会直接调用。</p>
<p><strong><font size="5">总结</font></strong></p>
<p>在使用APP过程中，不可避免页面之间的跳转，那么就会涉及到启动模式。其实在对界面进行跳转时，Android系统既能在同一个任务中对Activity进行调度，也能以Task（任务栈）为单位进行整体调度。在启动模式为standard或singleTop时，一般是在同一个任务中对Activity进行调度，而在启动模式为singleTask或singleInstance是，一般会对Task进行整体调度。</p>
<h1 id="activity的onnewintent方法什么时候会执行"><a class="markdownIt-Anchor" href="#activity的onnewintent方法什么时候会执行"></a> <code>Activity</code>的<code>onNewIntent</code>方法什么时候会执行</h1>
<blockquote>
<p>答案参考自：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/8897068505d8">Android中的onNewIntent()函数 - 简书 (jianshu.com)</a></li>
</ul>
</blockquote>
<p><strong>使用<code>SingleTask</code>以及<code>SingleInstance</code>启动模式的时候，会调用<code>onNewInstance</code>方法。</strong></p>
<p><code>Activity</code>第一次启动的时候执行<code>onCreate</code> -&gt; <code>onStart</code> -&gt; <code>onResume</code>等后续生命周期函数，也就时说第一次启动Activity并不会执行到<code>onNewIntent</code>。</p>
<p>而后面如果再有想启动<code>Activity</code>的时候，那就是执行 <strong><code>onNewIntent</code> -&gt; <code>onResart</code> -&gt; <code>onStart</code> -&gt; <code>onResume</code></strong>。</p>
<p>如果Android系统由于内存不足把已存在<code>Activity</code>释放掉了，那么再次调用的时候会重新启动<code>Activity</code>即执行<code>onCreate</code> -&gt; <code>onStart</code> -&gt; <code>onResume</code>等。</p>
<p>当调用到<code>onNewIntent(intent)</code>的时候，需要在<code>onNewIntent</code>中使用<code>setIntent(intent)</code>赋值给<code>Activity</code>的<code>Intent</code>。否则，后续的<code>getIntent</code>都是得到旧的<code>Intent</code>。</p>
<h1 id="activity-生命周期"><a class="markdownIt-Anchor" href="#activity-生命周期"></a> <code>Activity</code> 生命周期</h1>
<blockquote>
<p>答案参考自：</p>
<ul>
<li>
<p>《Android 开发艺术探索》</p>
</li>
<li>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/xiajun2356033/article/details/78741121">activity生命周期（这篇足够了）_android_Mr_夏的博客-CSDN博客</a></p>
</li>
</ul>
</blockquote>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://lly-blog-img.oss-cn-hangzhou.aliyuncs.com/images/20220521182943.png" alt="Activity的生命周期" style="zoom:67%;" />
<ol>
<li>
<p><code>onCreate</code></p>
<p>表示 Activity 正在被创建，这是生命周期的第一个方法。在这个方法中,我们可以做一些<strong>初始化工作</strong>,比如调用<strong>setContentView</strong>去加载界面布局资源,初始化Activity所需数据等。</p>
</li>
<li>
<p><code>onStart</code></p>
<p>表示Activity正在被启动，即将开始，这时 Activity已经<strong>可见</strong>了，但是还<strong>没有出现在前台</strong>，还<strong>无法和用户交互</strong>。这个时候其实可以理解为Activity已经显示出来了，但是我们还<strong>看不到</strong>。</p>
</li>
<li>
<p><code>onResume</code></p>
<p>表示 Activity<strong>已经可见</strong>了，并且<strong>出现在前台并开始活动</strong>。</p>
<p>要注意这个和 onStart的对比, onStart和onResume都表示Activity已经可见,但是onStart的时候Activity还在后台，onResume的时候Activity才显示到前台。</p>
</li>
<li>
<p><code>onPause</code></p>
<p>表示Activity正在停止，正常情况下，紧接着onStop就会被调用。</p>
<p>在特殊情况下，如果这个时候快速地再回到当前Activity，那么onResume会被调用。笔者的理解是，这种情况属于极端情况，用户操作很难重现这一场景。</p>
<p><strong>当前Activity是可见的，但不能与用户交互状态（即不在前台）。</strong></p>
<p>此时可以做一些<strong>存储数据、停止动画</strong>等工作，但是注意<strong>不能太耗时</strong>，因为这会影响到新Activity的显示，<strong>onPause必须先执行完，新Activity 的onResume才会执行。</strong></p>
</li>
<li>
<p><code>onStop</code></p>
<p>表示Activity即将停止，此时Activity对用户是<strong>不可见</strong>的，可以做一些稍微重量级的回收工作，同样<strong>不能太耗时</strong>。</p>
<p>在系统内存紧张的情况下，有可能会被系统进行回收，所以一般在当前方法可做资源回收。</p>
</li>
<li>
<p><code>onDestroy</code></p>
<p>表示Activity即将被销毁，这是Activity生命周期中的最后一个回调,在这里我们可以做一些<strong>回收工作和最终的资源释放</strong>。</p>
</li>
<li>
<p><code>onRestart</code></p>
<p>表示Activity正在重新启动。一般情况下，当当前Activity 从<strong>不可见重新变为可见状态</strong>时，onRestart就会被调用。</p>
<p>这种情形一般是用户行为所导致的，比如用户按Home键切换到桌面或者用户打开了一个新的Activity，这时当前的Activity就会暂停，也就是onPause和 onStop被执行了，接着用户又回到了这个Activity，就会出现这种情况。</p>
</li>
</ol>
<p><strong>具体情况分析</strong>：</p>
<ol>
<li>
<p>针对一个特定的Activity,<strong>第一次启动</strong>,回调如下：<code>onCreate</code> -&gt; <code>onStart</code> -&gt; <code>onResume</code>。</p>
</li>
<li>
<p>当用户<strong>打开新的Activity</strong>或者<strong>切换到桌面</strong>的时候，回调如下： <code>onPause</code> -&gt; <code>onStop</code>。</p>
<p>这里有一种特殊情况,如果新Activity 采用了透明主题,那么当前Activity不会回调<code>onStop</code>。</p>
</li>
<li>
<p>当用户<strong>再次回到原Activity</strong> 时，回调如下： <code>onRestart</code> -&gt; <code>onStart</code> -&gt; <code>onResume</code>。</p>
</li>
<li>
<p>当用户<strong>按back键回退</strong>时，回调如下: <code>onPause</code> -&gt; <code>onStop</code> -&gt; <code>onDestroy</code>。</p>
</li>
<li>
<p>当<strong>Activity被系统回收后再次打开</strong>，生命周期方法回调过程和（1）一样，注意只是生命周期方法一样，不代表所有过程都一样，比如<code>onSaveInstanceState</code>和<code>onRestoreInstanceState</code>的调用。</p>
</li>
<li>
<p>从<strong>Activity_A跳转到Activity_B</strong>，会先执行A活动的<code>onPause</code>，再执行B活动的<code>onResume</code>。</p>
</li>
<li>
<p>从<strong>整个生命周期</strong>来说，<code>onCreate</code>和 <code>onDestroy</code>是配对的，分别标识着Activity 的创建和销毁，并且只可能有一次调用。</p>
</li>
<li>
<p>从<strong>Activity是否可见</strong>来说，<code>onStart</code>和 <code>onStop</code>是配对的，随着用户的操作或者设备屏幕的点亮和熄灭，这两个方法可能被调用多次。</p>
</li>
<li>
<p>从 <strong>Activity是否在前台</strong>来说，<code>onResume</code>和 <code>onPause</code>是配对的,随着用户操作或者设备屏幕的点亮和熄灭，这两个方法可能被调用多次。</p>
</li>
</ol>
<table>
<thead>
<tr>
<th>生命周期</th>
<th>是否可见</th>
<th>是否在前台</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>onStart</code></td>
<td>是</td>
<td>否</td>
</tr>
<tr>
<td><code>onResume</code></td>
<td>是</td>
<td>是</td>
</tr>
<tr>
<td><code>onPause</code></td>
<td>是</td>
<td>否</td>
</tr>
<tr>
<td><code>onStop</code></td>
<td>否</td>
<td>否</td>
</tr>
</tbody>
</table>
<h1 id="onstart-和-onresume-onpause-和-onstop-的区别"><a class="markdownIt-Anchor" href="#onstart-和-onresume-onpause-和-onstop-的区别"></a> <code>onStart</code> 和 <code>onResume</code>、<code>onPause</code> 和 <code>onStop</code> 的区别</h1>
<blockquote>
<p>答案参考自：</p>
<ul>
<li>《Android 开发艺术探索》</li>
</ul>
</blockquote>
<p>从实际使用过程来说，<code>onStart</code>和 <code>onResume</code>、<code>onPause</code>和 <code>onStop</code>看起来的确差不多，甚至我们可以只保留其中一对，比如只保留<code>onStart</code>和 <code>onStop</code>。既然如此,那为什么Android系统还要提供看起来重复的接口呢？</p>
<p>根据上面的分析，我们知道，这两个配对的回调分别表示不同的意义，<code>onStart</code>和 <code>onStop</code>是从<strong>Activity是否可见</strong>这个角度来回调的，而 <code>onResume</code>和 <code>onPause</code>是从<strong>Activity是否位于前台</strong>这个角度来回调的，除了这种区别，在实际使用中没有其他明显区别。</p>
<h1 id="activity的显式启动和隐式启动"><a class="markdownIt-Anchor" href="#activity的显式启动和隐式启动"></a> <code>Activity</code>的显式启动和隐式启动</h1>
<blockquote>
<p>答案参考自：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/lrq851215/article/details/62881056">显示和隐式启动Activity的方式_卩s秋灬的博客-CSDN博客</a></li>
</ul>
</blockquote>
<p>启动Activity主要是通过Intent（意图）来实现。主要分为显示的和隐式的两种。</p>
<p><strong><font size="4">隐式启动 <code>Activity</code></font></strong></p>
<p>优点：</p>
<ol>
<li>只要知道被启动<code>Activity</code>的<code>Action</code>和<code>Category</code>即可，不用知道对应的类名或者是包名。</li>
<li>只要<code>Activity</code>有对应的<code>Action</code>和<code>Category</code>都会被启动起来。然后提供给用户选择要启动哪一个。</li>
</ol>
<p>需要被启动的<code>Activity</code>，需要在自己的<code>AndroidManifest.xml</code>定义对应的<code>action</code> 和 <code>category</code>。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">activity</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:name</span>=<span class="string">&quot;com.android.activity.demo.SecondActivity&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:label</span>=<span class="string">&quot;@string/second_activity_name&quot;</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">intent-filter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">action</span> <span class="attr">android:name</span>=<span class="string">&quot;android.intent.action.SECONDACTIVITY_START&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">category</span> <span class="attr">android:name</span>=<span class="string">&quot;android.intent.category.DEFAULT&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">intent-filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">activity</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>启动<code>Activity</code>的地方，把对应的<code>Action</code>填入即可。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">startSecondActivityByAction</span><span class="params">()</span> &#123;</span><br><span class="line">    Log.d(TAG, <span class="string">&quot;startSecondActivityByAction()&quot;</span>);</span><br><span class="line">    <span class="type">Intent</span> <span class="variable">intent</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Intent</span>();</span><br><span class="line">    intent.setAction(<span class="string">&quot;android.intent.action.SECONDACTIVITY_START&quot;</span>);</span><br><span class="line">    intent.addCategory(Intent.CATEGORY_DEFAULT);</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        startActivity(intent);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        Log.d(TAG, <span class="string">&quot;start activity error!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong><font size="4">显示启动 <code>Activity</code></font></strong></p>
<p>不足：</p>
<ol>
<li>被启动的应用的包名或者类名发生变化后，就会无法启动。</li>
</ol>
<p>通过类名类启动Activity， 一般是同一个APK里面使用。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">startSecondActivityByClass</span><span class="params">()</span> &#123;</span><br><span class="line">    Log.d(TAG, <span class="string">&quot;startSecondActivityByClass()&quot;</span>);</span><br><span class="line">    <span class="type">Intent</span> <span class="variable">intent</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Intent</span>(FirstActivity.<span class="built_in">this</span>, SecondActivity.class);</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        startActivity(intent);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        Log.d(TAG, <span class="string">&quot;start activity error!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="activity间传递数据的方式"><a class="markdownIt-Anchor" href="#activity间传递数据的方式"></a> <code>Activity</code>间传递数据的方式</h1>
<blockquote>
<p>答案参考自：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/u010112268/article/details/83832021">关于Android Activity之间传递数据的6种方式_淼淼1111的博客-CSDN博客_activity传递数据</a></li>
</ul>
</blockquote>
<p>共六种传递数据的方式。</p>
<ol>
<li>
<p><strong>使用Intent的putExtra传递</strong></p>
<p>第一个Activity中</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建意图对象</span></span><br><span class="line"><span class="type">Intent</span> <span class="variable">intent</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Intent</span>(<span class="built_in">this</span>,TwoActivity.class);</span><br><span class="line"><span class="comment">//设置传递键值对</span></span><br><span class="line">intent.putExtra(<span class="string">&quot;data&quot;</span>,str);</span><br><span class="line"><span class="comment">//激活意图</span></span><br><span class="line">startActivity(intent);</span><br></pre></td></tr></table></figure>
<p>第二个Activity中</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取意图对象</span></span><br><span class="line"><span class="type">Intent</span> <span class="variable">intent</span> <span class="operator">=</span> getIntent();</span><br><span class="line"><span class="comment">//获取传递的值</span></span><br><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> intent.getStringExtra(<span class="string">&quot;data&quot;</span>);</span><br><span class="line"><span class="comment">//设置值</span></span><br><span class="line">tv.setText(str);</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><strong>使用Intention的Bundle传递</strong></p>
<p>第一个Activity中</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建意图对象</span></span><br><span class="line"><span class="type">Intent</span> <span class="variable">intent</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Intent</span>(MainActivity.<span class="built_in">this</span>,TwoActivity.class);</span><br><span class="line"><span class="comment">//用数据捆传递数据</span></span><br><span class="line"><span class="type">Bundle</span> <span class="variable">bundle</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Bundle</span>();</span><br><span class="line">bundle.putString(<span class="string">&quot;data&quot;</span>, str);</span><br><span class="line"><span class="comment">//把数据捆设置改意图</span></span><br><span class="line">intent.putExtra(<span class="string">&quot;bun&quot;</span>, bundle);</span><br><span class="line"><span class="comment">//激活意图</span></span><br><span class="line">startActivity(intent);</span><br></pre></td></tr></table></figure>
<p>第二个Activity</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取Bundle</span></span><br><span class="line"><span class="type">Intent</span> <span class="variable">intent</span> <span class="operator">=</span> getIntent();</span><br><span class="line"><span class="type">Bundle</span> <span class="variable">bundle</span> <span class="operator">=</span> intent.getBundleExtra(<span class="string">&quot;bun&quot;</span>);</span><br><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> bundle.getString(<span class="string">&quot;data&quot;</span>);</span><br><span class="line">tv.setText(str);</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><strong>使用Activity销毁时传递数据(startActivityForResult)</strong></p>
<p>第一个Activity中</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Intent</span> <span class="variable">intent</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Intent</span>(MainActivity.<span class="built_in">this</span>,TwoActivity.class);</span><br><span class="line"><span class="comment">//用一种特殊方式开启Activity</span></span><br><span class="line">startActivityForResult(intent, <span class="number">11</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//设置数据</span></span><br><span class="line"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">onActivityResult</span><span class="params">(<span class="type">int</span> requestCode, <span class="type">int</span> resultCode, Intent data)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>.onActivityResult(requestCode, resultCode, data);</span><br><span class="line">    <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> data.getStringExtra(<span class="string">&quot;data&quot;</span>);</span><br><span class="line">    tvOne.setText(str);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>第二个activity中</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//设置返回的数据</span></span><br><span class="line"><span class="type">Intent</span> <span class="variable">intent</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Intent</span>();</span><br><span class="line">intent.putExtra(<span class="string">&quot;data&quot;</span>, edtOne.getText().toString().trim());</span><br><span class="line">setResult(<span class="number">3</span>, intent);</span><br><span class="line"><span class="comment">//关闭当前activity</span></span><br><span class="line">finish();</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><strong>SharedPreferences传递数据</strong></p>
<p>第一个Activity中</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">SharedPreferences</span> <span class="variable">sp</span> <span class="operator">=</span> <span class="built_in">this</span>.getSharedPreferences(<span class="string">&quot;info&quot;</span>, <span class="number">1</span>);</span><br><span class="line"><span class="comment">//获取sp编辑器</span></span><br><span class="line"><span class="type">Editor</span> <span class="variable">edit</span> <span class="operator">=</span> sp.edit();</span><br><span class="line">edit.putString(<span class="string">&quot;data&quot;</span>, str);</span><br><span class="line">edit.commit();</span><br><span class="line"><span class="comment">//创建意图对象</span></span><br><span class="line"><span class="type">Intent</span> <span class="variable">intent</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Intent</span>(MainActivity.<span class="built_in">this</span>,TwoActivity.class);</span><br><span class="line"><span class="comment">//激活意图</span></span><br><span class="line">startActivity(intent);</span><br></pre></td></tr></table></figure>
<p>第二个activity中</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">SharedPreferences</span> <span class="variable">sp</span> <span class="operator">=</span> <span class="built_in">this</span>.getSharedPreferences(<span class="string">&quot;info&quot;</span>, <span class="number">1</span>);</span><br><span class="line"><span class="comment">//设置数据</span></span><br><span class="line">tv.setText(sp.getString(<span class="string">&quot;data&quot;</span>, <span class="string">&quot;&quot;</span>));</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><strong>使用序列化对象Seriazable</strong></p>
<p>工具类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DataBean</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String sex;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getSex</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> sex;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setSex</span><span class="params">(String sex)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.sex = sex;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>第一个Activity中</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建意图</span></span><br><span class="line"><span class="type">Intent</span> <span class="variable">intent</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Intent</span>(MainActivity.<span class="built_in">this</span>,TwoActivity.class);</span><br><span class="line"><span class="type">DataBean</span> <span class="variable">bean</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DataBean</span>();</span><br><span class="line"><span class="comment">//通过set方法把数据保存到DataBean对象中</span></span><br><span class="line">bean.setName(<span class="string">&quot;啦啦&quot;</span>);</span><br><span class="line">bean.setSex(<span class="string">&quot;男&quot;</span>);</span><br><span class="line">intent.putExtra(<span class="string">&quot;key&quot;</span>, bean);</span><br><span class="line">startActivity(intent);</span><br></pre></td></tr></table></figure>
<p>第二个Activity中</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Intent</span> <span class="variable">intent</span> <span class="operator">=</span> getIntent();</span><br><span class="line"><span class="comment">//反序列化数据对象</span></span><br><span class="line"><span class="type">Serializable</span> <span class="variable">se</span> <span class="operator">=</span> intent.getSerializableExtra(<span class="string">&quot;key&quot;</span>);</span><br><span class="line"><span class="keyword">if</span>(se <span class="keyword">instanceof</span> DataBean)&#123;</span><br><span class="line">    <span class="comment">//获取到携带数据的DataBean对象db</span></span><br><span class="line">    <span class="type">DataBean</span> <span class="variable">db</span> <span class="operator">=</span> (DataBean) se;</span><br><span class="line">    tv.setText(db.getName() + <span class="string">&quot;===&quot;</span> + db.getSex());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><strong>使用静态变量传递数据</strong></p>
<p>第一个Activity中</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Intent</span> <span class="variable">intent</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Intent</span>(MainActivity.<span class="built_in">this</span>,TwoActivity.class);</span><br><span class="line">TwoActivity.name = <span class="string">&quot;NAME&quot;</span>;</span><br><span class="line">TwoActivity.str = <span class="string">&quot;STR&quot;</span>;</span><br><span class="line">startActivity(intent);</span><br></pre></td></tr></table></figure>
<p>第二个Activity中</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//静态变量</span></span><br><span class="line"><span class="keyword">protected</span> <span class="keyword">static</span> String name;</span><br><span class="line"><span class="keyword">protected</span> <span class="keyword">static</span> String str;</span><br><span class="line">tv.setText(str + name);</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="有哪些activity常用的标记位flags"><a class="markdownIt-Anchor" href="#有哪些activity常用的标记位flags"></a> 有哪些<code>Activity</code>常用的标记位<code>Flags</code></h1>
<ol>
<li>
<p><code>FLAG_ACTIVITY_NEW_TASK</code></p>
<p>指定启动模式为SingleTask</p>
</li>
<li>
<p><code>FLAG_ACTIVITY_SINGLE_TOP</code></p>
<p>指定启动模式为SingleTop</p>
</li>
<li>
<p><code>FLAG_ACTIVITY_CLEAR_TOP</code></p>
<p>一般与SingleTask启动模式一起出现，启动时位于它上方的Activity出栈，如果被启动的Activity实例已存在，系统则会调用它的onNewIntent</p>
</li>
</ol>
<h1 id="activity任务栈是什么"><a class="markdownIt-Anchor" href="#activity任务栈是什么"></a> <code>Activity</code>任务栈是什么</h1>
<blockquote>
<p>答案参考自：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/Lwenlong/p/15939583.html">Android面试——Activity篇 - 向着内核前进！ - 博客园 (cnblogs.com)</a></li>
</ul>
</blockquote>
<p>即Task，栈结构，存放Activity；退出应用程序时只有将所有任务栈找那个的所有Activity出栈，任务栈才能销毁。</p>
<p>任务栈可以移动到后台，在其中保留每一个Activity的状态。</p>
<p>对应的类：ActivityRecord、TaskRecord、ActivityStack。</p>
<h1 id="跨app启动activity的方式注意事项"><a class="markdownIt-Anchor" href="#跨app启动activity的方式注意事项"></a> 跨<code>App</code>启动<code>Activity</code>的方式,注意事项</h1>
<blockquote>
<p>答案参考自：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/Lwenlong/p/15939583.html">Android面试——Activity篇 - 向着内核前进！ - 博客园 (cnblogs.com)</a></li>
<li>《Android 开发艺术探索》</li>
</ul>
</blockquote>
<ol>
<li>
<p>指定打开的应用</p>
<p>通过Intent 隐式启动时，如果有多个action值相同的Activity，系统会让你选择启动哪个，解决办法时通过指定Intent-filter的 <code>data</code>属性，Intent 则要加上一个URI，该URI的scheme必须与data的scheme相同。</p>
<blockquote>
<p>data由两部分组成，mimeType和 URI。mimeType指媒体类型，比如 image/ijpeg.audio/mpeg4-generic和 video/*等，可以表示图片、文本、视频等不同的媒体格式，而URI中包含的数据就比较多了，下面是URI的结构：</p>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;scheme&gt;://&lt;host&gt;:&lt;port&gt;/[&lt;path&gt;|&lt;pathPrefix&gt;|&lt;pathPattern&gt;]</span><br></pre></td></tr></table></figure>
<p>Scheme：URI的模式，比如 http、file、content等，如果URI中没有指定scheme，那么整个URI的其他参数无效，这也意味着URI是无效的。</p>
</blockquote>
</li>
<li>
<p>如何防止自己的Activity被外部非正常启动</p>
<p>给自己的Activity 添加<code>android:permission=”xxx.xxx.xx”</code>，那么想要访问你的Activity就必须声明<code>uses-permission xxx.xxx.xx</code></p>
</li>
</ol>
<h1 id="anr-的四种场景"><a class="markdownIt-Anchor" href="#anr-的四种场景"></a> <code>ANR</code> 的四种场景</h1>
<blockquote>
<p>答案参考自：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/xingyu19911016/article/details/122080235">ANR 的四种场景_橙子19911016的博客-CSDN博客_anr的四种场景</a></li>
</ul>
</blockquote>
<ol>
<li>
<p><code>Service TimeOut</code></p>
<p><code>Service</code>未在规定时间执行完成，前台服务20s，后台200s。</p>
</li>
<li>
<p><code>BroadCastQueue TimeOut</code></p>
<p>未在规定时间内未处理完广播，前台广播10s内，后台60s内。</p>
</li>
<li>
<p><code>ContentProvider TimeOut</code></p>
<p><code>publish</code>在10s内没有完成。</p>
</li>
<li>
<p><code>Input Dispatching timeout</code></p>
<p>5s内未响应键盘输入、触摸屏幕等事件。</p>
</li>
</ol>
<p>Activity的生命周期回调的阻塞并不在触发ANR的场景里面，所以并不会直接触发ANR。 只不过死循环阻塞了主线程，如果系统再有上述的四种事件发生，就无法在相应的时间内处理从而触发ANR。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">LuoYu-Ying</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://luoyu-ying.github.io/posts/4aa0626e110f/">https://luoyu-ying.github.io/posts/4aa0626e110f/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://luoyu-ying.github.io" target="_blank">洛语 の Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Activity/">Activity</a><a class="post-meta__tags" href="/tags/2022%E6%A0%A1%E6%8B%9B%E9%9D%A2%E8%AF%95%E6%95%B4%E7%90%86/">2022校招面试整理</a></div><div class="post_share"><div class="social-share" data-image="https://lly-blog-img.oss-cn-hangzhou.aliyuncs.com/images/0.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/050a11a7817a/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://lly-blog-img.oss-cn-hangzhou.aliyuncs.com/images/67000448_p0.png" onerror="onerror=null;src='/img/default-cover.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">通过 AutoHotKey 简化 Hexo 操作</div></div></a></div><div class="next-post pull-right"><a href="/posts/b6ee2f2e134b/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://lly-blog-img.oss-cn-hangzhou.aliyuncs.com/images/109951165069258279.jpg" onerror="onerror=null;src='/img/default-cover.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Hexo 提交出现 FATAL err Error Spawn failed</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/posts/004ee5be31d6/" title="Animation - Android校招面试整理2022"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://lly-blog-img.oss-cn-hangzhou.aliyuncs.com/images/a15b4afegy1fnokpqcv02j21hc0u0jux.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-05-15</div><div class="title">Animation - Android校招面试整理2022</div></div></a></div><div><a href="/posts/ca56681199c8/" title="ArrayList - Android校招面试整理2022"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://lly-blog-img.oss-cn-hangzhou.aliyuncs.com/images/377.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-05-20</div><div class="title">ArrayList - Android校招面试整理2022</div></div></a></div><div><a href="/posts/90a21a97c0cb/" title="BroadcastReceiver - Android校招面试整理2022"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://lly-blog-img.oss-cn-hangzhou.aliyuncs.com/images/007YMVZbgy1gmk0fjltukj31ar0x2qck.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-05-24</div><div class="title">BroadcastReceiver - Android校招面试整理2022</div></div></a></div><div><a href="/posts/bb5f9e1a55ea/" title="ContentProvider - Android校招面试整理2022"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://lly-blog-img.oss-cn-hangzhou.aliyuncs.com/images/a15b4afely1fnt9g0625uj21hc0u0486.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-05-24</div><div class="title">ContentProvider - Android校招面试整理2022</div></div></a></div><div><a href="/posts/b9e5d151a0cc/" title="Fragment - Android校招面试整理2022"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://lly-blog-img.oss-cn-hangzhou.aliyuncs.com/images/007YMVZbgy1gmk1flu3t7j31c80y4qeo.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-05-24</div><div class="title">Fragment - Android校招面试整理2022</div></div></a></div><div><a href="/posts/a2ee5464a9b5/" title="Handler - Android校招面试整理2022"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://lly-blog-img.oss-cn-hangzhou.aliyuncs.com/images/007YMVZbgy1gmk1eys6ekj31hc0v4gsr.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-05-17</div><div class="title">Handler - Android校招面试整理2022</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#activity%E7%9A%84%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B"><span class="toc-number">1.</span> <span class="toc-text"> Activity的启动流程</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#onsaveinstancestate%E5%92%8Conrestoreinstancestate%E7%9A%84%E8%B0%83%E7%94%A8%E6%97%B6%E6%9C%BA"><span class="toc-number">2.</span> <span class="toc-text"> onSaveInstanceState和onRestoreInstanceState的调用时机</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#oncreate%E5%92%8Conrestoreinstance%E6%96%B9%E6%B3%95%E4%B8%AD%E6%81%A2%E5%A4%8D%E6%95%B0%E6%8D%AE%E6%97%B6%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">3.</span> <span class="toc-text"> onCreate和onRestoreInstance方法中恢复数据时的区别</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#activity%E7%9A%84%E6%95%B0%E6%8D%AE%E6%98%AF%E6%80%8E%E4%B9%88%E4%BF%9D%E5%AD%98%E7%9A%84%E8%BF%9B%E7%A8%8B%E8%A2%ABkill%E5%90%8E%E4%BF%9D%E5%AD%98%E7%9A%84%E6%95%B0%E6%8D%AE%E6%80%8E%E4%B9%88%E6%81%A2%E5%A4%8D%E7%9A%84"><span class="toc-number">4.</span> <span class="toc-text"> Activity的数据是怎么保存的,进程被Kill后,保存的数据怎么恢复的？</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#activity%E7%9A%84%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%BC%8F%E5%92%8C%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-number">5.</span> <span class="toc-text"> Activity的启动模式和使用场景</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#activity%E7%9A%84onnewintent%E6%96%B9%E6%B3%95%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E4%BC%9A%E6%89%A7%E8%A1%8C"><span class="toc-number">6.</span> <span class="toc-text"> Activity的onNewIntent方法什么时候会执行</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#activity-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-number">7.</span> <span class="toc-text"> Activity 生命周期</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#onstart-%E5%92%8C-onresume-onpause-%E5%92%8C-onstop-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">8.</span> <span class="toc-text"> onStart 和 onResume、onPause 和 onStop 的区别</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#activity%E7%9A%84%E6%98%BE%E5%BC%8F%E5%90%AF%E5%8A%A8%E5%92%8C%E9%9A%90%E5%BC%8F%E5%90%AF%E5%8A%A8"><span class="toc-number">9.</span> <span class="toc-text"> Activity的显式启动和隐式启动</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#activity%E9%97%B4%E4%BC%A0%E9%80%92%E6%95%B0%E6%8D%AE%E7%9A%84%E6%96%B9%E5%BC%8F"><span class="toc-number">10.</span> <span class="toc-text"> Activity间传递数据的方式</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%9C%89%E5%93%AA%E4%BA%9Bactivity%E5%B8%B8%E7%94%A8%E7%9A%84%E6%A0%87%E8%AE%B0%E4%BD%8Dflags"><span class="toc-number">11.</span> <span class="toc-text"> 有哪些Activity常用的标记位Flags</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#activity%E4%BB%BB%E5%8A%A1%E6%A0%88%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-number">12.</span> <span class="toc-text"> Activity任务栈是什么</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%B7%A8app%E5%90%AF%E5%8A%A8activity%E7%9A%84%E6%96%B9%E5%BC%8F%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">13.</span> <span class="toc-text"> 跨App启动Activity的方式,注意事项</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#anr-%E7%9A%84%E5%9B%9B%E7%A7%8D%E5%9C%BA%E6%99%AF"><span class="toc-number">14.</span> <span class="toc-text"> ANR 的四种场景</span></a></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By LuoYu-Ying</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">一期一会</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">本地搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/copy-tex.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/copy-tex.css"><script>(() => {
  document.querySelectorAll('#article-container span.katex-display').forEach(item => {
    btf.wrap(item, 'div', { class: 'katex-wrap'})
  })
})()</script><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>